<div class="object-types-block">
  <div class="small-header">
    <div class="ot-title"><b>Object types</b></div>
    <div class="dropdown">
      <button class="dropbtn">Action</button>
      <div class="dropdown-content">
        <a (click)="openNewDialog()">New</a>
        <a (click)="delete()">Delete</a>
        <a (click)="openEditDialog()">Edit</a>
      </div>
    </div>
  </div>
  <div>
    <tree-node [objectType]="rootObjectType" [parent]="self" [level]="0"></tree-node>
  </div>
  <!--<button mat-fab color="primary" (click)="openDialog()">Add</button>-->
</div>
<div class="attributes-block">
  <div class="aot">
    <div class="small-header">
      <span><b>Attributes</b></span>
      <a href="#" (click)="openAddAttrGroupDialog()">+ ATTR GROUP</a>
      <a href="#">+ ATTR</a>
    </div>
  </div>
  <div class="attribute-editing-block">
    <div class="attribute-detail-row row">
      <div class="col-2 attribute-detail-label">
        <span>Name:</span>
      </div>
      <div class="col-6">
        <input [(ngModel)]="selectedAttribute.name" class="max-width-input-text">
      </div>
    </div>
    <div class="attribute-detail-row row">
      <div class="col-2 attribute-detail-label">
        <span>Attr Group:</span>
      </div>
      <div class="col-6">
        <span [hidden]="!selectedAttributeGroup.name" class="max-width-input-text">{{selectedAttributeGroup.name}}(<i>{{selectedAttributeGroup.subgroup}}</i>)</span>
        <img src="../../assets/img/more.png" class="image-button-general" (click)="openAttrGroupSearchDialog()">
        <img src="../../assets/img/add.png" class="image-button-general" (click)="openAddAttrGroupDialog()">
      </div>
    </div>
    <div class="attribute-detail-row row">
      <div class="col-2 attribute-detail-label">
        <span>Type:</span>
      </div>
      <div class="col-6">
        <select [(ngModel)]="selectedAttribute.attrTypeId" class="max-width-input-text">
          <option value="1">Text</option>
          <option value="2">Number</option>
          <option value="3">Date</option>
          <option value="4">List</option>
          <option value="5">Reference</option>
        </select>
      </div>
    </div>
    <div class="attribute-detail-row row"
         [hidden]="selectedAttribute.attrTypeId != 4 && selectedAttribute.attrTypeId != 5">
      <div class="col-2 attribute-detail-label">
        <span>Attr Type Def:</span>
      </div>
      <div class="col-6">
        <span [hidden]="!selectedAttrTypeDef.name" class="max-width-input-text">
          <a href="#">{{selectedAttrTypeDef.name}}</a>
        </span>
        <img src="../../assets/img/more.png" class="image-button-general" (click)="openAttrTypeDefSearchDialog()"/>
        <img src="../../assets/img/add.png" class="image-button-general" (click)="openAddAttrTypeDefDialog()"/>
      </div>
    </div>
    <div class="attribute-detail-row row">
      <button mat-button (click)="addAttribute()">Save</button>
    </div>
  </div>
</div>
